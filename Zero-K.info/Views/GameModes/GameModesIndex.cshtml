@using ZeroKWeb
@using ZkData
@model ZeroKWeb.Controllers.GameModesController.GameModesModel

@{
    ViewBag.Title = "Special game modes";
    
    var grid = new UniGrid<GameMode>(Model.Data, "Game modes","modesGrid");
    grid.AddCol("Shortcut", x => x.ShortName).SetSort(x=>x.ShortName);
    grid.AddCol("Name", x => @Html.ActionLink(x.DisplayName, "Detail", "GameModes", new {id = x.GameModeID}, null)).SetSort(x=>x.DisplayName);
    grid.AddCol("Maintainer", x => Html.PrintAccount(x.Maintainer)).SetSort(x=>x.Maintainer.Name);
    grid.AddCol("Created", x => x.Created).SetSort(x=>x.Created);
    grid.AddCol("Modified", x => x.LastModified).SetSort(x=>x.LastModified);
    grid.AddCol("Featured", x => x.IsFeatured).SetSort(x=>x.IsFeatured);
}

<div id="gameModes">
    <h2>@ViewBag.Title</h2>
    
    @using (Ajax.BeginForm(Global.GetAjaxOptions("gameModes")))
    {
        <span>
            Name: @Html.EditorFor(x=>x.SearchName) &nbsp;&nbsp;&nbsp;
            Featured: @Html.EditorFor(x=>x.IsFeaturedFilter)
            <input type="submit" id="submit" value="Search"/>
        </span>


        GridHelpers.RenderTable(grid);
    }

    
    <a href="@Url.Action("Edit")">Upload new game mode</a>
</div>